GAUSTUDIO ---3 

nvidia  4090 

-----------------------------------
gitbash
#create a SSH key for the account
ssh-keygen -t rsa -b 4096 -C naveenmcv.temp@gmail.com

# to get the ssh key from my local path 
cat ~/.ssh/id_rsa.pub

# vast.ai > Keys > add > & paste it here.

# then rent a instance
# then connect it,

------------------------------------------------------------------


# Create a new conda environment
conda create -n gaustudio python=3.8
# Activate the conda environment
conda activate gaustudio


----------------------------------

# Example command to install PyTorch version 1.12.1+cu113
conda install pytorch=1.12.1 torchvision=0.13.1 cudatoolkit=11.3 -c pytorch

# Example command to install PyTorch version 2.0.1+cu118
pip install torch torchvision --index-url https://download.pytorch.org/whl/cu118
-----------------------------------------

# 1️⃣ Clone the GauStudio repo from GitHub
git clone https://github.com/GAP-LAB-CUHK-SZ/gaustudio.git

# 2️⃣ Change directory into the cloned repo
cd gaustudio


-------------
ls
>>
(gaustudio) root@C.26531104:/workspace/gaustudio$ ls
LICENSE  README.md  assets  docs  gaustudio  pyproject.toml  requirements.txt  setup.py  submodules
(gaustudio) root@C.26531104:/workspace/gaustudio$ 

-----------
pip install -r requirements.txt


-- check if all are installed,

python3 -c "import importlib; [print(f'{p}: ✅ installed' if importlib.util.find_spec(p) else f'{p}: ❌ not installed') for p in ['plyfile','torch','torchvision','tqdm','cv2','trimesh','omegaconf','einops','kiui','scipy','click','open3d','pyexr']]"





----------- install submodules 

cd submodules/gaustudio-diff-gaussian-rasterization
python setup.py install
cd ../../
python setup.py develop

----------- hmm ignore it , its duplicated
cd gaustudio/submodules/gaustudio-diff-gaussian-rasterization
python setup.py install
cd ../../
python setup.py develop
-------------



pip install gdown
gdown https://drive.google.com/uc?id=1MCNKAkZpuyPnDX4EgFRiA4QowtxUfJQC

-------
unzip 0fae8293-6b_only30k.zip -d /workspace/my_project

-----------
pip install opencv-python
--
pip install tqdm trimesh omegaconf plyfile open3d scipy scikit-image

-----

gs-extract-mesh -m /workspace/my_project/0fae8293-6b_only30k -o /workspace/my_project/0fae8293-6b_only30k/mesh_output

---

python /tmp/gaustudio/gaustudio/scripts/extract_mesh.py \
  -m /workspace/my_project/data/0fae8293-6b_only30k \
  -o /workspace/my_project/output/0fae8293-6b_only30k \
  -c /tmp/gaustudio/gaustudio/configs/vanilla.yaml

--- issue

python /gau_studio_project/gaustudio/gaustudio/scripts/extract_mesh.py \
  -m /workspace/my_project/data/0fae8293-6b_only30k \
  -o /workspace/my_project/output/0fae8293-6b_only30k \
  -c /tmp/gaustudio/gaustudio/configs/vanilla.yaml

--- issue
python /workspace/gau_studio_project/gaustudio/scripts/extract_mesh.py \
  -m /workspace/my_project/0fae8293-6b_only30k \
  -o /workspace/my_project/output/0fae8293-6b_only30k \
  -c /workspace/gau_studio_project/gaustudio/configs/vanilla.yaml


--- worked
python3 /workspace/gau_studio_project/gaustudio/gaustudio/scripts/extract_mesh.py \
  -m /workspace/my_project/0fae8293-6b_only30k \
  -o /workspace/my_project/output/0fae8293-6b_only30k \
  -c /workspace/gau_studio_project/gaustudio/gaustudio/configs/vanilla.yaml


------- cant find cameras.json. copy to the path

cp /workspace/my_project/0fae8293-6b_only30k/cameras.json /workspace/my_project/


---- >>>>>>>>>>>>>>>>>> EXTRACT>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>



(gaustudio) root@ubuntu:/workspace/gau_studio_project/gaustudio/gaustudio/scripts# python3 /workspace/gau_studio_project/gaustudio/gaustudio/scripts/extract_mesh.py \
  -m /workspace/my_project/0fae8293-6b_only30k \
  -o /workspace/my_project/output/0fae8293-6b_only30k \
  -c /workspace/gau_studio_project/gaustudio/gaustudio/configs/vanilla.yaml


>>>> result
Loading trained model at iteration 30000
Loaded 152370 points from /workspace/my_project/0fae8293-6b_only30k/point_cloud/iteration_30000/point_cloud.ply
Loading camera data from /workspace/my_project/cameras.json
  0%|                                                                                                                                                           | 0/140 [00:00<?, ?it/s]/root/miniconda/envs/gaustudio/lib/python3.8/site-packages/torch/functional.py:478: UserWarning: torch.meshgrid: in an upcoming release, it will be required to pass the indexing argument. (Triggered internally at  /opt/conda/conda-bld/pytorch_1659484810403/work/aten/src/ATen/native/TensorShape.cpp:2894.)
  return _VF.meshgrid(tensors, **kwargs)  # type: ignore[attr-defined]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 140/140 [00:20<00:00,  6.83it/s]
(gaustudio) root@ubuntu:/workspace/gau_studio_project/gaustudio/gaustudio/scripts# ^C
(gaustudio) root@ubuntu:/workspace/gau_studio_project/gaustudio/gaustudio/scripts#

------------------------------------------- GITBASH 2nd WINDOW -------------

--------- download file from another gitbash window
---- this worked pervius day

scp -P 50733 root@193.69.10.117:/workspace/my_project/output/0fae8293-6b_only30k/fused_mesh.ply "C:/Users/neula/Downloads/ouput/"



xx--- template
scp -P <remote_port> -r root@<remote_ip>:/workspace/my_project/output/0fae8293-6b_only30k /path/to/local/folder

xxx---- ssh info
ssh -p 50733 root@193.69.10.117 -L 8080:localhost:8080

---- correct path
scp -P 50733 -r root@193.69.10.117:/workspace/my_project/output/0fae8293-6b_only30k "C:/Users/neula/Downloads/output/9_oct"



workspace/my_project/output/0fae8293-6b_only30k

------------- hard coded create a new folder and then download

mkdir -p "C:/Users/neula/Downloads/output/9_oct"

-------------
scp -P 50733 -r root@193.69.10.117:/workspace/my_project/output/0fae8293-6b_only30k/fused_mesh.ply "C:/Users/neula/Downloads/output/9_oct"

------------
scp -P 50733 -r root@193.69.10.117:/workspace/my_project/output/0fae8293-6b_only30k/fused_mesh_smooth.ply "C:/Users/neula/Downloads/output/9_oct"

------------------------------











